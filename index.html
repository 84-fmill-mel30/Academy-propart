<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mill谩n Academy | Master Code</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto+Mono&display=swap" rel="stylesheet">
    <style>
        :root { --blue: #00f3ff; --red: #ff0000; --dark: #050505; --gold: #ffcc00; }
        body { background: var(--dark); color: white; font-family: 'Roboto Mono', monospace; margin: 0; display: flex; flex-direction: column; height: 100vh; }
        
        .header { background: #000; padding: 10px; border-bottom: 2px solid var(--blue); text-align: center; }
        .main-container { display: flex; flex: 1; overflow: hidden; }
        
        /* Panel Izquierdo: El Diagrama */
        .sidebar { width: 300px; background: #111; border-right: 1px solid #333; padding: 15px; overflow-y: auto; }
        .block-card { background: #1a1a1a; border: 1px solid #444; padding: 10px; margin-bottom: 10px; border-radius: 5px; cursor: pointer; transition: 0.3s; }
        .block-card:hover { border-color: var(--blue); background: #222; }

        /* Centro: El Editor de C贸digo */
        .editor { flex: 1; padding: 20px; background: #080808; position: relative; }
        #codeCanvas { width: 100%; height: 70%; background: #000; color: #0f0; border: 1px solid #333; padding: 15px; font-size: 0.9rem; border-radius: 10px; overflow-y: auto; white-space: pre-wrap; }

        /* Derecha: La Explicaci贸n Mec谩nica */
        .explanation { width: 250px; background: #111; border-left: 1px solid #333; padding: 15px; font-size: 0.8rem; }
        
        .btn-action { background: var(--blue); color: #000; border: none; padding: 10px; width: 100%; border-radius: 5px; font-weight: bold; margin-top: 10px; cursor: pointer; font-family: 'Orbitron'; }
        .token { color: var(--gold); font-weight: bold; }
    </style>
</head>
<body>

<div class="header">
    <h2 style="margin:0; font-family:'Orbitron'; color:var(--blue); font-size: 1rem;">MILLN ACADEMY: INGENIERA DE SOFTWARE</h2>
</div>

<div class="main-container">
    <div class="sidebar">
        <h4 style="color:var(--gold);">PIEZAS DEL MOTOR</h4>
        <div class="block-card" onclick="addBlock('sensor')"> AGREGAR SENSOR (Variables)</div>
        <div class="block-card" onclick="addBlock('ecu')"> AGREGAR ECU (Condiciones)</div>
        <div class="block-card" onclick="addBlock('almacen')"> AGREGAR ALMACN (Base Datos)</div>
        <div class="block-card" onclick="addBlock('ciclo')"> AGREGAR CICLO (Loops)</div>
        <button class="btn-action" style="background:var(--red); color:white;" onclick="limpiar()">BORRAR TODO</button>
    </div>

    <div class="editor">
        <h4 style="margin-top:0;">ECU MASTER PROGRAM:</h4>
        <div id="codeCanvas">// Selecciona una pieza para empezar a construir el sistema...</div>
        <button class="btn-action" onclick="compilar()">COMPILAR Y ANALIZAR</button>
    </div>

    <div class="explanation">
        <h4 style="color:var(--blue);">DIAGNSTICO:</h4>
        <div id="diagText">Haz clic en una pieza para entender c贸mo funciona en el c贸digo grande.</div>
    </div>
</div>

<script>
    let codeStructure = {
        sensor: false,
        ecu: false,
        almacen: false,
        ciclo: false
    };

    function updateView() {
        const canvas = document.getElementById('codeCanvas');
        let finalCode = "";

        if(codeStructure.almacen) {
            finalCode += "// --- BASE DE DATOS DEL ALMACN ---\nconst inventario = [\n  { pieza: 'Bobina', stock: 10 },\n  { pieza: 'Bujia', stock: 50 }\n];\n\n";
        }

        if(codeStructure.sensor) {
            finalCode += "// --- ENTRADA DE DATOS (SENSORES) ---\nlet voltajeBateria = 12.6;\nlet lecturaEscaner = '';\n\n";
        }

        if(codeStructure.ecu) {
            finalCode += "// --- LGICA DE CONTROL (ECU) ---\nfunction procesarVenta() {\n  if (voltajeBateria < 11.5) {\n    return 'ERROR: Voltaje Bajo';\n  }\n  console.log('Venta Autorizada');\n}\n\n";
        }

        if(codeStructure.ciclo) {
            finalCode += "// --- CICLO CONTINUO (MOTOR) ---\nsetInterval(() => {\n  console.log('Escaneando c贸digos de barras...');\n}, 2000);\n";
        }

        canvas.innerText = finalCode || "// El sistema est谩 vac铆o. Agrega componentes.";
    }

    function addBlock(tipo) {
        codeStructure[tipo] = true;
        const diag = document.getElementById('diagText');
        
        if(tipo === 'sensor') diag.innerHTML = "<b>Variable:</b> Es como un man贸metro. Guarda un valor (presi贸n, voltaje, nombre) para usarlo despu茅s.";
        if(tipo === 'ecu') diag.innerHTML = "<b>Funci贸n e IF:</b> Es el cerebro. Toma decisiones. 'Si el stock es cero, no vendas'.";
        if(tipo === 'almacen') diag.innerHTML = "<b>Array (Lista):</b> Es el anaquel de la refaccionaria. Guarda muchos objetos en orden.";
        if(tipo === 'ciclo') diag.innerHTML = "<b>Intervalo:</b> Es el ralent铆 del motor. Mantiene la App 'viva' y revisando cambios.";
        
        updateView();
    }

    function limpiar() {
        codeStructure = { sensor: false, ecu: false, almacen: false, ciclo: false };
        updateView();
    }

    function compilar() {
        alert("隆C贸digo Verificado! Tu sistema Mill谩n ya tiene l贸gica de Almac茅n, Sensores y Control.");
    }
</script>

</body>
</html>
